{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://@yohtozze/markdown-paste/webpack/bootstrap","webpack://@yohtozze/markdown-paste/webpack/runtime/compat get default export","webpack://@yohtozze/markdown-paste/webpack/runtime/define property getters","webpack://@yohtozze/markdown-paste/webpack/runtime/hasOwnProperty shorthand","webpack://@yohtozze/markdown-paste/webpack/runtime/make namespace object","webpack://@yohtozze/markdown-paste/external root \"flarum.core.compat['forum/app']\"","webpack://@yohtozze/markdown-paste/external root \"flarum.core.compat['common/extend']\"","webpack://@yohtozze/markdown-paste/external root \"flarum.core.compat['common/components/TextEditor']\"","webpack://@yohtozze/markdown-paste/./src/forum/turndown-table.js","webpack://@yohtozze/markdown-paste/./src/forum/index.js","webpack://@yohtozze/markdown-paste/./src/forum/editPaste.js"],"sourcesContent":["// The require scope\nvar __webpack_require__ = {};\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/components/TextEditor'];","var TurndownService = (function () {\n  'use strict';\n\n  function extend (destination) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (source.hasOwnProperty(key)) destination[key] = source[key];\n      }\n    }\n    return destination\n  }\n\n  function repeat (character, count) {\n    return Array(count + 1).join(character)\n  }\n\n  function trimLeadingNewlines (string) {\n    return string.replace(/^\\n*/, '')\n  }\n\n  function trimTrailingNewlines (string) {\n    // avoid match-at-end regexp bottleneck, see #370\n    var indexEnd = string.length;\n    while (indexEnd > 0 && string[indexEnd - 1] === '\\n') indexEnd--;\n    return string.substring(0, indexEnd)\n  }\n\n  var blockElements = [\n    'ADDRESS', 'ARTICLE', 'ASIDE', 'AUDIO', 'BLOCKQUOTE', 'BODY', 'CANVAS',\n    'CENTER', 'DD', 'DIR', 'DIV', 'DL', 'DT', 'FIELDSET', 'FIGCAPTION', 'FIGURE',\n    'FOOTER', 'FORM', 'FRAMESET', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'HEADER',\n    'HGROUP', 'HR', 'HTML', 'ISINDEX', 'LI', 'MAIN', 'MENU', 'NAV', 'NOFRAMES',\n    'NOSCRIPT', 'OL', 'OUTPUT', 'P', 'PRE', 'SECTION', 'TABLE', 'TBODY', 'TD',\n    'TFOOT', 'TH', 'THEAD', 'TR', 'UL'\n  ];\n\n  function isBlock (node) {\n    return is(node, blockElements)\n  }\n\n  var voidElements = [\n    'AREA', 'BASE', 'BR', 'COL', 'COMMAND', 'EMBED', 'HR', 'IMG', 'INPUT',\n    'KEYGEN', 'LINK', 'META', 'PARAM', 'SOURCE', 'TRACK', 'WBR'\n  ];\n\n  function isVoid (node) {\n    return is(node, voidElements)\n  }\n\n  function hasVoid (node) {\n    return has(node, voidElements)\n  }\n\n  var meaningfulWhenBlankElements = [\n    'A', 'TABLE', 'THEAD', 'TBODY', 'TFOOT', 'TH', 'TD', 'IFRAME', 'SCRIPT',\n    'AUDIO', 'VIDEO'\n  ];\n\n  function isMeaningfulWhenBlank (node) {\n    return is(node, meaningfulWhenBlankElements)\n  }\n\n  function hasMeaningfulWhenBlank (node) {\n    return has(node, meaningfulWhenBlankElements)\n  }\n\n  function is (node, tagNames) {\n    return tagNames.indexOf(node.nodeName) >= 0\n  }\n\n  function has (node, tagNames) {\n    return (\n      node.getElementsByTagName &&\n      tagNames.some(function (tagName) {\n        return node.getElementsByTagName(tagName).length\n      })\n    )\n  }\n\n  var rules = {};\n\n\n  // // ==============================================================================\n  // // 在turndown中添加的转换table部分(author:watfe)\n  // // ==============================================================================\n\n\n  rules.td = {\n    filter: ['td'],\n    replacement: function (content, node, options) {\n        content = content.trim();\n        content = content.replace(/\\|/g,'/');\n        content = content.replace(/\\n+/g,' <br> ');\n        content = '|'+content\n        // console.log('td:'+content);\n        return content\n    }\n  };\n\n  rules.th = {\n    filter: ['th'],\n    replacement: function (content, node, options) {\n        content = content.trim();\n        content = content.replace(/\\|/g,'/');\n        content = content.replace(/\\n+/g,' <br> ');\n        content = '|#$&%th$#%&'+content\n        if (node.getAttribute('colspan')!=null){ //如果表头存在合并单元格，对其进行处理\n            content = content+repeatStringNumTimes('|', node.getAttribute('colspan'));\n        }\n        // console.log('th:'+content);\n        return content\n    }\n  };\n\n  rules.tr = {\n    filter: ['tr'],\n    replacement: function (content, node, options) {\n        content = '|\\n'+content.trim();\n        // console.log('tr:'+content);\n        return content\n    }\n  };\n\n  function repeatStringNumTimes(str, num) { //字符串重复N次\n    let repeatStr = '';\n    for(let i = 0; i < num; i++){\n      repeatStr += str;\n    }\n    return repeatStr;\n  }\n\n  rules.table = {\n    filter: ['table'],\n    replacement: function (content, node, options) {\n      // 删首尾空，删除最前面多余的|，并在最后补全|\n      //console.log('table1:'+content);\n      content = content.trim();\n      content = content.replace(/\\n+/g, '\\n');\n      content = content.replace(/\\n\\|\\n/g, '|\\n');\n      if (content.indexOf('|\\n')===0){\n        content = content.substring(1, content.length)+'|';\n      }\n      content = content.trim();\n      // 如果表最前端包含<caption>表名标签的，通过下面代码优化让<caption>变成独立一行\n      //console.log('table2:'+content);\n      var captionLine = '';\n      if (content.slice(0,1)!='|' && (content.slice(-1)!='|')){\n          captionLine = content.slice(0,content.indexOf('|\\n'));//captionn那行\n          content = content.slice(content.indexOf('|\\n')+2);\n          content = content+'|'\n      }\n      // 检查表格包含几个|，数字减1就是列数，模拟出markdown表格中间的---：\n      var verticalLineCount = 0;\n      var strs = new Array();\n      var thExist = false;\n      strs = content.split('\\n');\n      for (let i=0; i<strs.length; i++ ){ // 计算最多列数\n          if(strs[i].indexOf('|')>=0){\n              let tempnum = strs[i].match(/\\|/ig).length;\n              if (tempnum>verticalLineCount){\n                  verticalLineCount = tempnum;\n              }\n          }\n      }\n      var buildTh = repeatStringNumTimes('| ',verticalLineCount).trim(); // 构造没有表头时候，markdown需要的表头 比如：| | | |\n      var tableMDLine = '|'+repeatStringNumTimes('---|',verticalLineCount-1); // 构造markdown表中间的横线 比如：|---|---|---|\n      // 检查是否包含表头\n      //console.log('table3:'+content);\n      if (content.indexOf('|#$&%th$#%&')>=0){\n          content = content.replace(/\\|#\\$&%th\\$#%&/g, '|');\n          content = content.replace('\\n','\\n'+tableMDLine+'\\n');\n      }\n      else{\n          content = buildTh+'\\n'+tableMDLine+'\\n'+ content;\n      }\n      content = '\\n'+captionLine+'\\n\\n'+content+'\\n\\n';\n      //console.log('table4:'+content);\n      return content\n    }\n  };\n\n  // // ==============================================================================\n  // // 添加完毕\n  // // ==============================================================================\n\n\n\n  rules.paragraph = {\n    filter: 'p',\n\n    replacement: function (content) {\n      return '\\n\\n' + content + '\\n\\n'\n    }\n  };\n\n  rules.lineBreak = {\n    filter: 'br',\n\n    replacement: function (content, node, options) {\n      return options.br + '\\n'\n    }\n  };\n\n  rules.heading = {\n    filter: ['h1', 'h2', 'h3', 'h4', 'h5', 'h6'],\n\n    replacement: function (content, node, options) {\n      var hLevel = Number(node.nodeName.charAt(1));\n\n      if (options.headingStyle === 'setext' && hLevel < 3) {\n        var underline = repeat((hLevel === 1 ? '=' : '-'), content.length);\n        return (\n          '\\n\\n' + content + '\\n' + underline + '\\n\\n'\n        )\n      } else {\n        return '\\n\\n' + repeat('#', hLevel) + ' ' + content + '\\n\\n'\n      }\n    }\n  };\n\n  rules.blockquote = {\n    filter: 'blockquote',\n\n    replacement: function (content) {\n      content = content.replace(/^\\n+|\\n+$/g, '');\n      content = content.replace(/^/gm, '> ');\n      return '\\n\\n' + content + '\\n\\n'\n    }\n  };\n\n  rules.list = {\n    filter: ['ul', 'ol'],\n\n    replacement: function (content, node) {\n      var parent = node.parentNode;\n      if (parent.nodeName === 'LI' && parent.lastElementChild === node) {\n        return '\\n' + content\n      } else {\n        return '\\n\\n' + content + '\\n\\n'\n      }\n    }\n  };\n\n  rules.listItem = {\n    filter: 'li',\n\n    replacement: function (content, node, options) {\n      content = content\n        .replace(/^\\n+/, '') // remove leading newlines\n        .replace(/\\n+$/, '\\n') // replace trailing newlines with just a single one\n        .replace(/\\n/gm, '\\n    '); // indent\n      var prefix = options.bulletListMarker + '   ';\n      var parent = node.parentNode;\n      if (parent.nodeName === 'OL') {\n        var start = parent.getAttribute('start');\n        var index = Array.prototype.indexOf.call(parent.children, node);\n        prefix = (start ? Number(start) + index : index + 1) + '.  ';\n      }\n      return (\n        prefix + content + (node.nextSibling && !/\\n$/.test(content) ? '\\n' : '')\n      )\n    }\n  };\n\n  rules.indentedCodeBlock = {\n    filter: function (node, options) {\n      return (\n        options.codeBlockStyle === 'indented' &&\n        node.nodeName === 'PRE' &&\n        node.firstChild &&\n        node.firstChild.nodeName === 'CODE'\n      )\n    },\n\n    replacement: function (content, node, options) {\n      return (\n        '\\n\\n    ' +\n        node.firstChild.textContent.replace(/\\n/g, '\\n    ') +\n        '\\n\\n'\n      )\n    }\n  };\n\n  rules.fencedCodeBlock = {\n    filter: function (node, options) {\n      return (\n        options.codeBlockStyle === 'fenced' &&\n        node.nodeName === 'PRE' &&\n        node.firstChild &&\n        node.firstChild.nodeName === 'CODE'\n      )\n    },\n\n    replacement: function (content, node, options) {\n      var className = node.firstChild.getAttribute('class') || '';\n      var language = (className.match(/language-(\\S+)/) || [null, ''])[1];\n      var code = node.firstChild.textContent;\n\n      var fenceChar = options.fence.charAt(0);\n      var fenceSize = 3;\n      var fenceInCodeRegex = new RegExp('^' + fenceChar + '{3,}', 'gm');\n\n      var match;\n      while ((match = fenceInCodeRegex.exec(code))) {\n        if (match[0].length >= fenceSize) {\n          fenceSize = match[0].length + 1;\n        }\n      }\n\n      var fence = repeat(fenceChar, fenceSize);\n\n      return (\n        '\\n\\n' + fence + language + '\\n' +\n        code.replace(/\\n$/, '') +\n        '\\n' + fence + '\\n\\n'\n      )\n    }\n  };\n\n  rules.horizontalRule = {\n    filter: 'hr',\n\n    replacement: function (content, node, options) {\n      return '\\n\\n' + options.hr + '\\n\\n'\n    }\n  };\n\n  rules.inlineLink = {\n    filter: function (node, options) {\n      return (\n        options.linkStyle === 'inlined' &&\n        node.nodeName === 'A' &&\n        node.getAttribute('href')\n      )\n    },\n\n    replacement: function (content, node) {\n      var href = node.getAttribute('href');\n      var title = cleanAttribute(node.getAttribute('title'));\n      if (title) title = ' \"' + title + '\"';\n      return '[' + content + '](' + href + title + ')'\n    }\n  };\n\n  rules.referenceLink = {\n    filter: function (node, options) {\n      return (\n        options.linkStyle === 'referenced' &&\n        node.nodeName === 'A' &&\n        node.getAttribute('href')\n      )\n    },\n\n    replacement: function (content, node, options) {\n      var href = node.getAttribute('href');\n      var title = cleanAttribute(node.getAttribute('title'));\n      if (title) title = ' \"' + title + '\"';\n      var replacement;\n      var reference;\n\n      switch (options.linkReferenceStyle) {\n        case 'collapsed':\n          replacement = '[' + content + '][]';\n          reference = '[' + content + ']: ' + href + title;\n          break\n        case 'shortcut':\n          replacement = '[' + content + ']';\n          reference = '[' + content + ']: ' + href + title;\n          break\n        default:\n          var id = this.references.length + 1;\n          replacement = '[' + content + '][' + id + ']';\n          reference = '[' + id + ']: ' + href + title;\n      }\n\n      this.references.push(reference);\n      return replacement\n    },\n\n    references: [],\n\n    append: function (options) {\n      var references = '';\n      if (this.references.length) {\n        references = '\\n\\n' + this.references.join('\\n') + '\\n\\n';\n        this.references = []; // Reset references\n      }\n      return references\n    }\n  };\n\n  rules.emphasis = {\n    filter: ['em', 'i'],\n\n    replacement: function (content, node, options) {\n      if (!content.trim()) return ''\n      return options.emDelimiter + content + options.emDelimiter\n    }\n  };\n\n  rules.strong = {\n    filter: ['strong', 'b'],\n\n    replacement: function (content, node, options) {\n      if (!content.trim()) return ''\n      return options.strongDelimiter + content + options.strongDelimiter\n    }\n  };\n\n  rules.code = {\n    filter: function (node) {\n      var hasSiblings = node.previousSibling || node.nextSibling;\n      var isCodeBlock = node.parentNode.nodeName === 'PRE' && !hasSiblings;\n\n      return node.nodeName === 'CODE' && !isCodeBlock\n    },\n\n    replacement: function (content) {\n      if (!content) return ''\n      content = content.replace(/\\r?\\n|\\r/g, ' ');\n\n      var extraSpace = /^`|^ .*?[^ ].* $|`$/.test(content) ? ' ' : '';\n      var delimiter = '`';\n      var matches = content.match(/`+/gm) || [];\n      while (matches.indexOf(delimiter) !== -1) delimiter = delimiter + '`';\n\n      return delimiter + extraSpace + content + extraSpace + delimiter\n    }\n  };\n\n  rules.image = {\n    filter: 'img',\n\n    replacement: function (content, node) {\n      var alt = cleanAttribute(node.getAttribute('alt'));\n      var src = node.getAttribute('src') || '';\n      var title = cleanAttribute(node.getAttribute('title'));\n      var titlePart = title ? ' \"' + title + '\"' : '';\n      return src ? '![' + alt + ']' + '(' + src + titlePart + ')' : ''\n    }\n  };\n\n  function cleanAttribute (attribute) {\n    return attribute ? attribute.replace(/(\\n+\\s*)+/g, '\\n') : ''\n  }\n\n  /**\n   * Manages a collection of rules used to convert HTML to Markdown\n   */\n\n  function Rules (options) {\n    this.options = options;\n    this._keep = [];\n    this._remove = [];\n\n    this.blankRule = {\n      replacement: options.blankReplacement\n    };\n\n    this.keepReplacement = options.keepReplacement;\n\n    this.defaultRule = {\n      replacement: options.defaultReplacement\n    };\n\n    this.array = [];\n    for (var key in options.rules) this.array.push(options.rules[key]);\n  }\n\n  Rules.prototype = {\n    add: function (key, rule) {\n      this.array.unshift(rule);\n    },\n\n    keep: function (filter) {\n      this._keep.unshift({\n        filter: filter,\n        replacement: this.keepReplacement\n      });\n    },\n\n    remove: function (filter) {\n      this._remove.unshift({\n        filter: filter,\n        replacement: function () {\n          return ''\n        }\n      });\n    },\n\n    forNode: function (node) {\n      if (node.isBlank) return this.blankRule\n      var rule;\n\n      if ((rule = findRule(this.array, node, this.options))) return rule\n      if ((rule = findRule(this._keep, node, this.options))) return rule\n      if ((rule = findRule(this._remove, node, this.options))) return rule\n\n      return this.defaultRule\n    },\n\n    forEach: function (fn) {\n      for (var i = 0; i < this.array.length; i++) fn(this.array[i], i);\n    }\n  };\n\n  function findRule (rules, node, options) {\n    for (var i = 0; i < rules.length; i++) {\n      var rule = rules[i];\n      if (filterValue(rule, node, options)) return rule\n    }\n    return void 0\n  }\n\n  function filterValue (rule, node, options) {\n    var filter = rule.filter;\n    if (typeof filter === 'string') {\n      if (filter === node.nodeName.toLowerCase()) return true\n    } else if (Array.isArray(filter)) {\n      if (filter.indexOf(node.nodeName.toLowerCase()) > -1) return true\n    } else if (typeof filter === 'function') {\n      if (filter.call(rule, node, options)) return true\n    } else {\n      throw new TypeError('`filter` needs to be a string, array, or function')\n    }\n  }\n\n  /**\n   * The collapseWhitespace function is adapted from collapse-whitespace\n   * by Luc Thevenard.\n   *\n   * The MIT License (MIT)\n   *\n   * Copyright (c) 2014 Luc Thevenard <lucthevenard@gmail.com>\n   *\n   * Permission is hereby granted, free of charge, to any person obtaining a copy\n   * of this software and associated documentation files (the \"Software\"), to deal\n   * in the Software without restriction, including without limitation the rights\n   * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n   * copies of the Software, and to permit persons to whom the Software is\n   * furnished to do so, subject to the following conditions:\n   *\n   * The above copyright notice and this permission notice shall be included in\n   * all copies or substantial portions of the Software.\n   *\n   * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n   * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n   * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n   * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n   * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n   * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n   * THE SOFTWARE.\n   */\n\n  /**\n   * collapseWhitespace(options) removes extraneous whitespace from an the given element.\n   *\n   * @param {Object} options\n   */\n  function collapseWhitespace (options) {\n    var element = options.element;\n    var isBlock = options.isBlock;\n    var isVoid = options.isVoid;\n    var isPre = options.isPre || function (node) {\n      return node.nodeName === 'PRE'\n    };\n\n    if (!element.firstChild || isPre(element)) return\n\n    var prevText = null;\n    var keepLeadingWs = false;\n\n    var prev = null;\n    var node = next(prev, element, isPre);\n\n    while (node !== element) {\n      if (node.nodeType === 3 || node.nodeType === 4) { // Node.TEXT_NODE or Node.CDATA_SECTION_NODE\n        var text = node.data.replace(/[ \\r\\n\\t]+/g, ' ');\n\n        if ((!prevText || / $/.test(prevText.data)) &&\n            !keepLeadingWs && text[0] === ' ') {\n          text = text.substr(1);\n        }\n\n        // `text` might be empty at this point.\n        if (!text) {\n          node = remove(node);\n          continue\n        }\n\n        node.data = text;\n\n        prevText = node;\n      } else if (node.nodeType === 1) { // Node.ELEMENT_NODE\n        if (isBlock(node) || node.nodeName === 'BR') {\n          if (prevText) {\n            prevText.data = prevText.data.replace(/ $/, '');\n          }\n\n          prevText = null;\n          keepLeadingWs = false;\n        } else if (isVoid(node) || isPre(node)) {\n          // Avoid trimming space around non-block, non-BR void elements and inline PRE.\n          prevText = null;\n          keepLeadingWs = true;\n        } else if (prevText) {\n          // Drop protection if set previously.\n          keepLeadingWs = false;\n        }\n      } else {\n        node = remove(node);\n        continue\n      }\n\n      var nextNode = next(prev, node, isPre);\n      prev = node;\n      node = nextNode;\n    }\n\n    if (prevText) {\n      prevText.data = prevText.data.replace(/ $/, '');\n      if (!prevText.data) {\n        remove(prevText);\n      }\n    }\n  }\n\n  /**\n   * remove(node) removes the given node from the DOM and returns the\n   * next node in the sequence.\n   *\n   * @param {Node} node\n   * @return {Node} node\n   */\n  function remove (node) {\n    var next = node.nextSibling || node.parentNode;\n\n    node.parentNode.removeChild(node);\n\n    return next\n  }\n\n  /**\n   * next(prev, current, isPre) returns the next node in the sequence, given the\n   * current and previous nodes.\n   *\n   * @param {Node} prev\n   * @param {Node} current\n   * @param {Function} isPre\n   * @return {Node}\n   */\n  function next (prev, current, isPre) {\n    if ((prev && prev.parentNode === current) || isPre(current)) {\n      return current.nextSibling || current.parentNode\n    }\n\n    return current.firstChild || current.nextSibling || current.parentNode\n  }\n\n  /*\n   * Set up window for Node.js\n   */\n\n  var root = (typeof window !== 'undefined' ? window : {});\n\n  /*\n   * Parsing HTML strings\n   */\n\n  function canParseHTMLNatively () {\n    var Parser = root.DOMParser;\n    var canParse = false;\n\n    // Adapted from https://gist.github.com/1129031\n    // Firefox/Opera/IE throw errors on unsupported types\n    try {\n      // WebKit returns null on unsupported types\n      if (new Parser().parseFromString('', 'text/html')) {\n        canParse = true;\n      }\n    } catch (e) {}\n\n    return canParse\n  }\n\n  function createHTMLParser () {\n    var Parser = function () {};\n\n    {\n      if (shouldUseActiveX()) {\n        Parser.prototype.parseFromString = function (string) {\n          var doc = new window.ActiveXObject('htmlfile');\n          doc.designMode = 'on'; // disable on-page scripts\n          doc.open();\n          doc.write(string);\n          doc.close();\n          return doc\n        };\n      } else {\n        Parser.prototype.parseFromString = function (string) {\n          var doc = document.implementation.createHTMLDocument('');\n          doc.open();\n          doc.write(string);\n          doc.close();\n          return doc\n        };\n      }\n    }\n    return Parser\n  }\n\n  function shouldUseActiveX () {\n    var useActiveX = false;\n    try {\n      document.implementation.createHTMLDocument('').open();\n    } catch (e) {\n      if (window.ActiveXObject) useActiveX = true;\n    }\n    return useActiveX\n  }\n\n  var HTMLParser = canParseHTMLNatively() ? root.DOMParser : createHTMLParser();\n\n  function RootNode (input, options) {\n    var root;\n    if (typeof input === 'string') {\n      var doc = htmlParser().parseFromString(\n        // DOM parsers arrange elements in the <head> and <body>.\n        // Wrapping in a custom element ensures elements are reliably arranged in\n        // a single element.\n        '<x-turndown id=\"turndown-root\">' + input + '</x-turndown>',\n        'text/html'\n      );\n      root = doc.getElementById('turndown-root');\n    } else {\n      root = input.cloneNode(true);\n    }\n    collapseWhitespace({\n      element: root,\n      isBlock: isBlock,\n      isVoid: isVoid,\n      isPre: options.preformattedCode ? isPreOrCode : null\n    });\n\n    return root\n  }\n\n  var _htmlParser;\n  function htmlParser () {\n    _htmlParser = _htmlParser || new HTMLParser();\n    return _htmlParser\n  }\n\n  function isPreOrCode (node) {\n    return node.nodeName === 'PRE' || node.nodeName === 'CODE'\n  }\n\n  function Node (node, options) {\n    node.isBlock = isBlock(node);\n    node.isCode = node.nodeName === 'CODE' || node.parentNode.isCode;\n    node.isBlank = isBlank(node);\n    node.flankingWhitespace = flankingWhitespace(node, options);\n    return node\n  }\n\n  function isBlank (node) {\n    return (\n      !isVoid(node) &&\n      !isMeaningfulWhenBlank(node) &&\n      /^\\s*$/i.test(node.textContent) &&\n      !hasVoid(node) &&\n      !hasMeaningfulWhenBlank(node)\n    )\n  }\n\n  function flankingWhitespace (node, options) {\n    if (node.isBlock || (options.preformattedCode && node.isCode)) {\n      return { leading: '', trailing: '' }\n    }\n\n    var edges = edgeWhitespace(node.textContent);\n\n    // abandon leading ASCII WS if left-flanked by ASCII WS\n    if (edges.leadingAscii && isFlankedByWhitespace('left', node, options)) {\n      edges.leading = edges.leadingNonAscii;\n    }\n\n    // abandon trailing ASCII WS if right-flanked by ASCII WS\n    if (edges.trailingAscii && isFlankedByWhitespace('right', node, options)) {\n      edges.trailing = edges.trailingNonAscii;\n    }\n\n    return { leading: edges.leading, trailing: edges.trailing }\n  }\n\n  function edgeWhitespace (string) {\n    var m = string.match(/^(([ \\t\\r\\n]*)(\\s*))[\\s\\S]*?((\\s*?)([ \\t\\r\\n]*))$/);\n    return {\n      leading: m[1], // whole string for whitespace-only strings\n      leadingAscii: m[2],\n      leadingNonAscii: m[3],\n      trailing: m[4], // empty for whitespace-only strings\n      trailingNonAscii: m[5],\n      trailingAscii: m[6]\n    }\n  }\n\n  function isFlankedByWhitespace (side, node, options) {\n    var sibling;\n    var regExp;\n    var isFlanked;\n\n    if (side === 'left') {\n      sibling = node.previousSibling;\n      regExp = / $/;\n    } else {\n      sibling = node.nextSibling;\n      regExp = /^ /;\n    }\n\n    if (sibling) {\n      if (sibling.nodeType === 3) {\n        isFlanked = regExp.test(sibling.nodeValue);\n      } else if (options.preformattedCode && sibling.nodeName === 'CODE') {\n        isFlanked = false;\n      } else if (sibling.nodeType === 1 && !isBlock(sibling)) {\n        isFlanked = regExp.test(sibling.textContent);\n      }\n    }\n    return isFlanked\n  }\n\n  var reduce = Array.prototype.reduce;\n  var escapes = [\n    [/\\\\/g, '\\\\\\\\'],\n    [/\\*/g, '\\\\*'],\n    [/^-/g, '\\\\-'],\n    [/^\\+ /g, '\\\\+ '],\n    [/^(=+)/g, '\\\\$1'],\n    [/^(#{1,6}) /g, '\\\\$1 '],\n    [/`/g, '\\\\`'],\n    [/^~~~/g, '\\\\~~~'],\n    [/\\[/g, '\\\\['],\n    [/\\]/g, '\\\\]'],\n    [/^>/g, '\\\\>'],\n    [/_/g, '\\\\_'],\n    [/^(\\d+)\\. /g, '$1\\\\. ']\n  ];\n\n  function TurndownService (options) {\n    if (!(this instanceof TurndownService)) return new TurndownService(options)\n\n    var defaults = {\n      rules: rules,\n      headingStyle: 'setext',\n      hr: '* * *',\n      bulletListMarker: '*',\n      codeBlockStyle: 'indented',\n      fence: '```',\n      emDelimiter: '_',\n      strongDelimiter: '**',\n      linkStyle: 'inlined',\n      linkReferenceStyle: 'full',\n      br: '  ',\n      preformattedCode: false,\n      blankReplacement: function (content, node) {\n        return node.isBlock ? '\\n\\n' : ''\n      },\n      keepReplacement: function (content, node) {\n        return node.isBlock ? '\\n\\n' + node.outerHTML + '\\n\\n' : node.outerHTML\n      },\n      defaultReplacement: function (content, node) {\n        return node.isBlock ? '\\n\\n' + content + '\\n\\n' : content\n      }\n    };\n    this.options = extend({}, defaults, options);\n    this.rules = new Rules(this.options);\n  }\n\n  TurndownService.prototype = {\n    /**\n     * The entry point for converting a string or DOM node to Markdown\n     * @public\n     * @param {String|HTMLElement} input The string or DOM node to convert\n     * @returns A Markdown representation of the input\n     * @type String\n     */\n\n    turndown: function (input) {\n      if (!canConvert(input)) {\n        throw new TypeError(\n          input + ' is not a string, or an element/document/fragment node.'\n        )\n      }\n\n      if (input === '') return ''\n\n      var output = process.call(this, new RootNode(input, this.options));\n      return postProcess.call(this, output)\n    },\n\n    /**\n     * Add one or more plugins\n     * @public\n     * @param {Function|Array} plugin The plugin or array of plugins to add\n     * @returns The Turndown instance for chaining\n     * @type Object\n     */\n\n    use: function (plugin) {\n      if (Array.isArray(plugin)) {\n        for (var i = 0; i < plugin.length; i++) this.use(plugin[i]);\n      } else if (typeof plugin === 'function') {\n        plugin(this);\n      } else {\n        throw new TypeError('plugin must be a Function or an Array of Functions')\n      }\n      return this\n    },\n\n    /**\n     * Adds a rule\n     * @public\n     * @param {String} key The unique key of the rule\n     * @param {Object} rule The rule\n     * @returns The Turndown instance for chaining\n     * @type Object\n     */\n\n    addRule: function (key, rule) {\n      this.rules.add(key, rule);\n      return this\n    },\n\n    /**\n     * Keep a node (as HTML) that matches the filter\n     * @public\n     * @param {String|Array|Function} filter The unique key of the rule\n     * @returns The Turndown instance for chaining\n     * @type Object\n     */\n\n    keep: function (filter) {\n      this.rules.keep(filter);\n      return this\n    },\n\n    /**\n     * Remove a node that matches the filter\n     * @public\n     * @param {String|Array|Function} filter The unique key of the rule\n     * @returns The Turndown instance for chaining\n     * @type Object\n     */\n\n    remove: function (filter) {\n      this.rules.remove(filter);\n      return this\n    },\n\n    /**\n     * Escapes Markdown syntax\n     * @public\n     * @param {String} string The string to escape\n     * @returns A string with Markdown syntax escaped\n     * @type String\n     */\n\n    escape: function (string) {\n      return escapes.reduce(function (accumulator, escape) {\n        return accumulator.replace(escape[0], escape[1])\n      }, string)\n    }\n  };\n\n  /**\n   * Reduces a DOM node down to its Markdown string equivalent\n   * @private\n   * @param {HTMLElement} parentNode The node to convert\n   * @returns A Markdown representation of the node\n   * @type String\n   */\n\n  function process (parentNode) {\n    var self = this;\n    return reduce.call(parentNode.childNodes, function (output, node) {\n      node = new Node(node, self.options);\n\n      var replacement = '';\n      if (node.nodeType === 3) {\n        replacement = node.isCode ? node.nodeValue : self.escape(node.nodeValue);\n      } else if (node.nodeType === 1) {\n        replacement = replacementForNode.call(self, node);\n      }\n\n      return join(output, replacement)\n    }, '')\n  }\n\n  /**\n   * Appends strings as each rule requires and trims the output\n   * @private\n   * @param {String} output The conversion output\n   * @returns A trimmed version of the ouput\n   * @type String\n   */\n\n  function postProcess (output) {\n    var self = this;\n    this.rules.forEach(function (rule) {\n      if (typeof rule.append === 'function') {\n        output = join(output, rule.append(self.options));\n      }\n    });\n\n    return output.replace(/^[\\t\\r\\n]+/, '').replace(/[\\t\\r\\n\\s]+$/, '')\n  }\n\n  /**\n   * Converts an element node to its Markdown equivalent\n   * @private\n   * @param {HTMLElement} node The node to convert\n   * @returns A Markdown representation of the node\n   * @type String\n   */\n\n  function replacementForNode (node) {\n    var rule = this.rules.forNode(node);\n    var content = process.call(this, node);\n    var whitespace = node.flankingWhitespace;\n    if (whitespace.leading || whitespace.trailing) content = content.trim();\n    return (\n      whitespace.leading +\n      rule.replacement(content, node, this.options) +\n      whitespace.trailing\n    )\n  }\n\n  /**\n   * Joins replacement to the current output with appropriate number of new lines\n   * @private\n   * @param {String} output The current conversion output\n   * @param {String} replacement The string to append to the output\n   * @returns Joined output\n   * @type String\n   */\n\n  function join (output, replacement) {\n    var s1 = trimTrailingNewlines(output);\n    var s2 = trimLeadingNewlines(replacement);\n    var nls = Math.max(output.length - s1.length, replacement.length - s2.length);\n    var separator = '\\n\\n'.substring(0, nls);\n\n    return s1 + separator + s2\n  }\n\n  /**\n   * Determines whether an input can be converted\n   * @private\n   * @param {String|HTMLElement} input Describe this parameter\n   * @returns Describe what it returns\n   * @type String|Object|Array|Boolean|Number\n   */\n\n  function canConvert (input) {\n    return (\n      input != null && (\n        typeof input === 'string' ||\n        (input.nodeType && (\n          input.nodeType === 1 || input.nodeType === 9 || input.nodeType === 11\n        ))\n      )\n    )\n  }\n\n  return TurndownService;\n\n}());\n\nexport default TurndownService;","import app from 'flarum/forum/app';\n\nimport editPaste from './editPaste';\n\napp.initializers.add('yohtozze-mdpaste', () => {\n  editPaste();\n});\n","import { extend } from 'flarum/common/extend';\r\nimport TextEditor from 'flarum/common/components/TextEditor';\r\n\r\nimport TurndownService from './turndown-table.js';\r\n\r\nexport default function editPaste() {\r\n  extend(TextEditor.prototype, 'oncreate', function () {\r\n    let editor=this.$('.TextEditor-editor')[0];\r\n    editor.onpaste=(event)=>{\r\n      let clip = event.clipboardData.getData('text/html');\r\n      if(!clip)return;\r\n\r\n      event.preventDefault();\r\n\r\n      let domtxt = new DOMParser().parseFromString(clip,'text/html');\r\n      let turndownService = new TurndownService();\r\n      let markdown = turndownService.turndown(domtxt.body);\r\n\r\n      this.attrs.composer.editor.insertAtCursor(markdown);\r\n    };\r\n  });\r\n}\r\n"],"names":["__webpack_require__","module","getter","__esModule","d","a","exports","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","Symbol","toStringTag","value","flarum","core","compat","repeat","character","count","Array","join","blockElements","isBlock","node","is","voidElements","isVoid","meaningfulWhenBlankElements","tagNames","indexOf","nodeName","has","getElementsByTagName","some","tagName","length","rules","repeatStringNumTimes","str","num","repeatStr","i","cleanAttribute","attribute","replace","Rules","options","this","_keep","_remove","blankRule","replacement","blankReplacement","keepReplacement","defaultRule","defaultReplacement","array","push","findRule","rule","filterValue","filter","toLowerCase","isArray","TypeError","remove","next","nextSibling","parentNode","removeChild","prev","current","isPre","firstChild","td","content","trim","th","getAttribute","tr","table","substring","captionLine","slice","verticalLineCount","strs","split","tempnum","match","buildTh","tableMDLine","paragraph","lineBreak","br","heading","hLevel","Number","charAt","headingStyle","blockquote","list","parent","lastElementChild","listItem","prefix","bulletListMarker","start","index","children","test","indentedCodeBlock","codeBlockStyle","textContent","fencedCodeBlock","language","code","fenceChar","fence","fenceSize","fenceInCodeRegex","RegExp","exec","horizontalRule","hr","inlineLink","linkStyle","href","title","referenceLink","reference","linkReferenceStyle","id","references","append","emphasis","emDelimiter","strong","strongDelimiter","hasSiblings","previousSibling","isCodeBlock","extraSpace","delimiter","matches","image","alt","src","add","unshift","keep","forNode","isBlank","forEach","fn","Parser","_htmlParser","root","window","HTMLParser","DOMParser","canParse","parseFromString","e","canParseHTMLNatively","useActiveX","document","implementation","createHTMLDocument","open","ActiveXObject","shouldUseActiveX","string","doc","designMode","write","close","RootNode","input","element","prevText","keepLeadingWs","nodeType","text","data","substr","nextNode","collapseWhitespace","getElementById","cloneNode","preformattedCode","isPreOrCode","Node","isCode","isMeaningfulWhenBlank","hasVoid","hasMeaningfulWhenBlank","flankingWhitespace","leading","trailing","m","edges","leadingAscii","leadingNonAscii","trailingNonAscii","trailingAscii","isFlankedByWhitespace","side","sibling","regExp","isFlanked","nodeValue","reduce","escapes","TurndownService","defaults","outerHTML","destination","arguments","source","extend","process","self","childNodes","output","escape","replacementForNode","postProcess","whitespace","s1","indexEnd","trimTrailingNewlines","s2","nls","Math","max","turndown","canConvert","use","plugin","addRule","accumulator","app","TextEditor","_this","$","onpaste","event","clip","clipboardData","getData","preventDefault","domtxt","markdown","body","attrs","composer","editor","insertAtCursor"],"sourceRoot":""}